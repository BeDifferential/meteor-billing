<template name="charges">
  <div class="container-fluid charges">
    {{#if billingError}}
      <div class="row alert alert-danger">
        {{billingError}}
      </div>
    {{/if}}
    {{#if billingSuccess}}
      <div class="row alert alert-success">
        {{billingSuccess}}
      </div>
    {{/if}}
    <div class="row">
      <h2>{{i18n "Past Charges"}}</h2>
      <div class="panel-group" id="past-charge-accordion">
        {{#each charges}}
          {{> _charge}}
        {{else}}
          {{#if chargesWorking}}
          <i class="icon-spinner icon-spin icon-large fa fa-spinner fa-3x fa-spin billing-loader"></i>
          {{else}}
            {{i18n "Nothing to see here"}}
          {{/if}}
        {{/each}}
      </div>
    </div>
  </div>
</template>

<template name="_charge">
  <div class="panel panel-default charge">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" href="#{{id}}">
          <span class="text-primary">
            <strong>
              {{chargeAmt amount}} {{i18n "on"}} {{chargeDate this.created}}
            </strong>
          </span>
          <span class="pull-right">
            {{#if paid}}
            <span class="label label-success">{{i18n "Paid"}} </span>
            {{/if}}
          </span>
        </a>
      </h4>
    </div>
    <div id="{{id}}" class="panel-collapse collapse">
      <div class="panel-body">
        <div class="clearfix">
          <span class="pull-left">{{description}}</span>
        </div>
      </div>
    </div>
  </div>
</template>
